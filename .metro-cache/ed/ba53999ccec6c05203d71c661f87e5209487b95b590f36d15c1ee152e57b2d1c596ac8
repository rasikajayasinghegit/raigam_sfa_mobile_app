{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"kslwqCIsh6ew+I1KeA1rlVRjsAk="}},{"name":"@babel/runtime/helpers/classCallCheck","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"yg7e6laZwmpbIvId5jovq9ugXp8="}},{"name":"@babel/runtime/helpers/createClass","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"Z6pzkVZ2fvxBLkFTgVVOy4UDj30="}}],"output":[{"data":{"code":"__d(function (global, _$$_REQUIRE, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  var _interopRequireDefault = _$$_REQUIRE(_dependencyMap[0], \"@babel/runtime/helpers/interopRequireDefault\");\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.PressableStateMachine = void 0;\n  var _classCallCheck2 = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[1], \"@babel/runtime/helpers/classCallCheck\"));\n  var _createClass2 = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[2], \"@babel/runtime/helpers/createClass\"));\n  var PressableStateMachine = exports.PressableStateMachine = /*#__PURE__*/function () {\n    function PressableStateMachine() {\n      (0, _classCallCheck2.default)(this, PressableStateMachine);\n      this.states = null;\n      this.currentStepIndex = 0;\n      this.eventPayload = null;\n    }\n    return (0, _createClass2.default)(PressableStateMachine, [{\n      key: \"setStates\",\n      value: function setStates(states) {\n        this.states = states;\n      }\n    }, {\n      key: \"reset\",\n      value: function reset() {\n        this.currentStepIndex = 0;\n        this.eventPayload = null;\n      }\n    }, {\n      key: \"handleEvent\",\n      value: function handleEvent(eventName, eventPayload) {\n        if (!this.states) {\n          return;\n        }\n        var step = this.states[this.currentStepIndex];\n        this.eventPayload = eventPayload || this.eventPayload;\n        if (step.eventName !== eventName) {\n          if (this.currentStepIndex > 0) {\n            // retry with position at index 0\n            this.reset();\n            this.handleEvent(eventName, eventPayload);\n          }\n          return;\n        }\n        if (this.eventPayload && step.callback) {\n          step.callback(this.eventPayload);\n        }\n        this.currentStepIndex++;\n        if (this.currentStepIndex === this.states.length) {\n          this.reset();\n        }\n      }\n    }]);\n  }();\n});","lineCount":53,"map":[[9,6,8,6,"PressableStateMachine"],[9,27,8,27],[9,30,8,27,"exports"],[9,37,8,27],[9,38,8,27,"PressableStateMachine"],[9,59,8,27],[10,4,13,2],[10,13,13,2,"PressableStateMachine"],[10,35,13,2],[10,37,13,16],[11,6,13,16],[11,10,13,16,"_classCallCheck2"],[11,26,13,16],[11,27,13,16,"default"],[11,34,13,16],[11,42,13,16,"PressableStateMachine"],[11,63,13,16],[12,6,14,4],[12,10,14,8],[12,11,14,9,"states"],[12,17,14,15],[12,20,14,18],[12,24,14,22],[13,6,15,4],[13,10,15,8],[13,11,15,9,"currentStepIndex"],[13,27,15,25],[13,30,15,28],[13,31,15,29],[14,6,16,4],[14,10,16,8],[14,11,16,9,"eventPayload"],[14,23,16,21],[14,26,16,24],[14,30,16,28],[15,4,17,2],[16,4,17,3],[16,15,17,3,"_createClass2"],[16,28,17,3],[16,29,17,3,"default"],[16,36,17,3],[16,38,17,3,"PressableStateMachine"],[16,59,17,3],[17,6,17,3,"key"],[17,9,17,3],[18,6,17,3,"value"],[18,11,17,3],[18,13,19,2],[18,22,19,9,"setStates"],[18,31,19,18,"setStates"],[18,32,19,19,"states"],[18,38,19,44],[18,40,19,46],[19,8,20,4],[19,12,20,8],[19,13,20,9,"states"],[19,19,20,15],[19,22,20,18,"states"],[19,28,20,24],[20,6,21,2],[21,4,21,3],[22,6,21,3,"key"],[22,9,21,3],[23,6,21,3,"value"],[23,11,21,3],[23,13,23,2],[23,22,23,9,"reset"],[23,27,23,14,"reset"],[23,28,23,14],[23,30,23,17],[24,8,24,4],[24,12,24,8],[24,13,24,9,"currentStepIndex"],[24,29,24,25],[24,32,24,28],[24,33,24,29],[25,8,25,4],[25,12,25,8],[25,13,25,9,"eventPayload"],[25,25,25,21],[25,28,25,24],[25,32,25,28],[26,6,26,2],[27,4,26,3],[28,6,26,3,"key"],[28,9,26,3],[29,6,26,3,"value"],[29,11,26,3],[29,13,28,2],[29,22,28,9,"handleEvent"],[29,33,28,20,"handleEvent"],[29,34,28,21,"eventName"],[29,43,28,38],[29,45,28,40,"eventPayload"],[29,57,28,69],[29,59,28,71],[30,8,29,4],[30,12,29,8],[30,13,29,9],[30,17,29,13],[30,18,29,14,"states"],[30,24,29,20],[30,26,29,22],[31,10,30,6],[32,8,31,4],[33,8,33,4],[33,12,33,10,"step"],[33,16,33,14],[33,19,33,17],[33,23,33,21],[33,24,33,22,"states"],[33,30,33,28],[33,31,33,29],[33,35,33,33],[33,36,33,34,"currentStepIndex"],[33,52,33,50],[33,53,33,51],[34,8,34,4],[34,12,34,8],[34,13,34,9,"eventPayload"],[34,25,34,21],[34,28,34,24,"eventPayload"],[34,40,34,36],[34,44,34,40],[34,48,34,44],[34,49,34,45,"eventPayload"],[34,61,34,57],[35,8,36,4],[35,12,36,8,"step"],[35,16,36,12],[35,17,36,13,"eventName"],[35,26,36,22],[35,31,36,27,"eventName"],[35,40,36,36],[35,42,36,38],[36,10,37,6],[36,14,37,10],[36,18,37,14],[36,19,37,15,"currentStepIndex"],[36,35,37,31],[36,38,37,34],[36,39,37,35],[36,41,37,37],[37,12,38,8],[38,12,39,8],[38,16,39,12],[38,17,39,13,"reset"],[38,22,39,18],[38,23,39,19],[38,24,39,20],[39,12,40,8],[39,16,40,12],[39,17,40,13,"handleEvent"],[39,28,40,24],[39,29,40,25,"eventName"],[39,38,40,34],[39,40,40,36,"eventPayload"],[39,52,40,48],[39,53,40,49],[40,10,41,6],[41,10,42,6],[42,8,43,4],[43,8,45,4],[43,12,45,8],[43,16,45,12],[43,17,45,13,"eventPayload"],[43,29,45,25],[43,33,45,29,"step"],[43,37,45,33],[43,38,45,34,"callback"],[43,46,45,42],[43,48,45,44],[44,10,46,6,"step"],[44,14,46,10],[44,15,46,11,"callback"],[44,23,46,19],[44,24,46,20],[44,28,46,24],[44,29,46,25,"eventPayload"],[44,41,46,37],[44,42,46,38],[45,8,47,4],[46,8,49,4],[46,12,49,8],[46,13,49,9,"currentStepIndex"],[46,29,49,25],[46,31,49,27],[47,8,51,4],[47,12,51,8],[47,16,51,12],[47,17,51,13,"currentStepIndex"],[47,33,51,29],[47,38,51,34],[47,42,51,38],[47,43,51,39,"states"],[47,49,51,45],[47,50,51,46,"length"],[47,56,51,52],[47,58,51,54],[48,10,52,6],[48,14,52,10],[48,15,52,11,"reset"],[48,20,52,16],[48,21,52,17],[48,22,52,18],[49,8,53,4],[50,6,54,2],[51,4,54,3],[52,2,54,3],[53,0,54,3],[53,3]],"functionMap":{"names":["<global>","PressableStateMachine","PressableStateMachine#constructor","PressableStateMachine#setStates","PressableStateMachine#reset","PressableStateMachine#handleEvent"],"mappings":"AAA;ACO;ECK;GDI;EEE;GFE;EGE;GHG;EIE;GJ0B;CDC"}},"type":"js/module"}]}