{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"kslwqCIsh6ew+I1KeA1rlVRjsAk="}},{"name":"@babel/runtime/helpers/classCallCheck","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"yg7e6laZwmpbIvId5jovq9ugXp8="}},{"name":"@babel/runtime/helpers/createClass","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"Z6pzkVZ2fvxBLkFTgVVOy4UDj30="}},{"name":"../EventEmitter/NativeEventEmitter","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":11,"column":0},"end":{"line":11,"column":68}}],"key":"Jk6GODPsD+OS/XTex7hK2MSfvW0="}},{"name":"../Utilities/logError","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":12,"column":0},"end":{"line":12,"column":45}}],"key":"HeDHWmpyfSBCg3zQ2JX/zcGgw40="}},{"name":"../Utilities/Platform","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":13,"column":0},"end":{"line":13,"column":45}}],"key":"WyqnBhspP5BAR0xvCwqfBv/v4uA="}},{"name":"./NativeAppState","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":15,"column":0},"end":{"line":15,"column":46}}],"key":"i/MOPtd2F2wlopZYHexIIxBeKo0="}}],"output":[{"data":{"code":"__d(function (global, _$$_REQUIRE, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  var _interopRequireDefault = _$$_REQUIRE(_dependencyMap[0], \"@babel/runtime/helpers/interopRequireDefault\");\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.default = void 0;\n  var _classCallCheck2 = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[1], \"@babel/runtime/helpers/classCallCheck\"));\n  var _createClass2 = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[2], \"@babel/runtime/helpers/createClass\"));\n  var _NativeEventEmitter = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[3], \"../EventEmitter/NativeEventEmitter\"));\n  var _logError = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[4], \"../Utilities/logError\"));\n  var _Platform = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[5], \"../Utilities/Platform\"));\n  var _NativeAppState = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[6], \"./NativeAppState\"));\n  var AppStateImpl = /*#__PURE__*/function () {\n    function AppStateImpl() {\n      var _this = this;\n      (0, _classCallCheck2.default)(this, AppStateImpl);\n      this.currentState = null;\n      if (_NativeAppState.default == null) {\n        this.isAvailable = false;\n      } else {\n        this.isAvailable = true;\n        var emitter = new _NativeEventEmitter.default(_Platform.default.OS !== 'ios' ? null : _NativeAppState.default);\n        this._emitter = emitter;\n        this.currentState = _NativeAppState.default.getConstants().initialAppState;\n        var eventUpdated = false;\n        emitter.addListener('appStateDidChange', function (appStateData) {\n          eventUpdated = true;\n          _this.currentState = appStateData.app_state;\n        });\n        _NativeAppState.default.getCurrentAppState(function (appStateData) {\n          if (!eventUpdated && _this.currentState !== appStateData.app_state) {\n            _this.currentState = appStateData.app_state;\n            emitter.emit('appStateDidChange', appStateData);\n          }\n        }, _logError.default);\n      }\n    }\n    return (0, _createClass2.default)(AppStateImpl, [{\n      key: \"addEventListener\",\n      value: function addEventListener(type, handler) {\n        var emitter = this._emitter;\n        if (emitter == null) {\n          throw new Error('Cannot use AppState when `isAvailable` is false.');\n        }\n        switch (type) {\n          case 'change':\n            var changeHandler = handler;\n            return emitter.addListener('appStateDidChange', function (appStateData) {\n              changeHandler(appStateData.app_state);\n            });\n          case 'memoryWarning':\n            var memoryWarningHandler = handler;\n            return emitter.addListener('memoryWarning', memoryWarningHandler);\n          case 'blur':\n          case 'focus':\n            var focusOrBlurHandler = handler;\n            return emitter.addListener('appStateFocusChange', function (hasFocus) {\n              if (type === 'blur' && !hasFocus) {\n                focusOrBlurHandler();\n              }\n              if (type === 'focus' && hasFocus) {\n                focusOrBlurHandler();\n              }\n            });\n        }\n        throw new Error('Trying to subscribe to unknown event: ' + type);\n      }\n    }]);\n  }();\n  var AppState = new AppStateImpl();\n  var _default = exports.default = AppState;\n});","lineCount":72,"map":[[9,2,11,0],[9,6,11,0,"_NativeEventEmitter"],[9,25,11,0],[9,28,11,0,"_interopRequireDefault"],[9,50,11,0],[9,51,11,0,"_$$_REQUIRE"],[9,62,11,0],[9,63,11,0,"_dependencyMap"],[9,77,11,0],[10,2,12,0],[10,6,12,0,"_logError"],[10,15,12,0],[10,18,12,0,"_interopRequireDefault"],[10,40,12,0],[10,41,12,0,"_$$_REQUIRE"],[10,52,12,0],[10,53,12,0,"_dependencyMap"],[10,67,12,0],[11,2,13,0],[11,6,13,0,"_Platform"],[11,15,13,0],[11,18,13,0,"_interopRequireDefault"],[11,40,13,0],[11,41,13,0,"_$$_REQUIRE"],[11,52,13,0],[11,53,13,0,"_dependencyMap"],[11,67,13,0],[12,2,15,0],[12,6,15,0,"_NativeAppState"],[12,21,15,0],[12,24,15,0,"_interopRequireDefault"],[12,46,15,0],[12,47,15,0,"_$$_REQUIRE"],[12,58,15,0],[12,59,15,0,"_dependencyMap"],[12,73,15,0],[13,2,15,46],[13,6,59,6,"AppStateImpl"],[13,18,59,18],[14,4,65,2],[14,13,65,2,"AppStateImpl"],[14,26,65,2],[14,28,65,16],[15,6,65,16],[15,10,65,16,"_this"],[15,15,65,16],[16,6,65,16],[16,10,65,16,"_classCallCheck2"],[16,26,65,16],[16,27,65,16,"default"],[16,34,65,16],[16,42,65,16,"AppStateImpl"],[16,54,65,16],[17,6,65,16],[17,11,60,2,"currentState"],[17,23,60,14],[17,26,60,26],[17,30,60,30],[18,6,66,4],[18,10,66,8,"NativeAppState"],[18,33,66,22],[18,37,66,26],[18,41,66,30],[18,43,66,32],[19,8,67,6],[19,12,67,10],[19,13,67,11,"isAvailable"],[19,24,67,22],[19,27,67,25],[19,32,67,30],[20,6,68,4],[20,7,68,5],[20,13,68,11],[21,8,69,6],[21,12,69,10],[21,13,69,11,"isAvailable"],[21,24,69,22],[21,27,69,25],[21,31,69,29],[22,8,71,6],[22,12,71,12,"emitter"],[22,19,71,71],[22,22,72,8],[22,26,72,12,"NativeEventEmitter"],[22,53,72,30],[22,54,75,10,"Platform"],[22,71,75,18],[22,72,75,19,"OS"],[22,74,75,21],[22,79,75,26],[22,84,75,31],[22,87,75,34],[22,91,75,38],[22,94,75,41,"NativeAppState"],[22,117,76,8],[22,118,76,9],[23,8,77,6],[23,12,77,10],[23,13,77,11,"_emitter"],[23,21,77,19],[23,24,77,22,"emitter"],[23,31,77,29],[24,8,79,6],[24,12,79,10],[24,13,79,11,"currentState"],[24,25,79,23],[24,28,79,26,"NativeAppState"],[24,51,79,40],[24,52,79,41,"getConstants"],[24,64,79,53],[24,65,79,54],[24,66,79,55],[24,67,79,56,"initialAppState"],[24,82,79,71],[25,8,81,6],[25,12,81,10,"eventUpdated"],[25,24,81,22],[25,27,81,25],[25,32,81,30],[26,8,87,6,"emitter"],[26,15,87,13],[26,16,87,14,"addListener"],[26,27,87,25],[26,28,87,26],[26,47,87,45],[26,49,87,47],[26,59,87,47,"appStateData"],[26,71,87,59],[26,73,87,63],[27,10,88,8,"eventUpdated"],[27,22,88,20],[27,25,88,23],[27,29,88,27],[28,10,89,8,"_this"],[28,15,89,12],[28,16,89,13,"currentState"],[28,28,89,25],[28,31,89,28,"appStateData"],[28,43,89,40],[28,44,89,41,"app_state"],[28,53,89,50],[29,8,90,6],[29,9,90,7],[29,10,90,8],[30,8,96,6,"NativeAppState"],[30,31,96,20],[30,32,96,21,"getCurrentAppState"],[30,50,96,39],[30,51,96,40],[30,61,96,40,"appStateData"],[30,73,96,52],[30,75,96,56],[31,10,98,8],[31,14,98,12],[31,15,98,13,"eventUpdated"],[31,27,98,25],[31,31,98,29,"_this"],[31,36,98,33],[31,37,98,34,"currentState"],[31,49,98,46],[31,54,98,51,"appStateData"],[31,66,98,63],[31,67,98,64,"app_state"],[31,76,98,73],[31,78,98,75],[32,12,99,10,"_this"],[32,17,99,14],[32,18,99,15,"currentState"],[32,30,99,27],[32,33,99,30,"appStateData"],[32,45,99,42],[32,46,99,43,"app_state"],[32,55,99,52],[33,12,101,10,"emitter"],[33,19,101,17],[33,20,101,18,"emit"],[33,24,101,22],[33,25,101,23],[33,44,101,42],[33,46,101,44,"appStateData"],[33,58,101,56],[33,59,101,57],[34,10,102,8],[35,8,103,6],[35,9,103,7],[35,11,103,9,"logError"],[35,28,103,17],[35,29,103,18],[36,6,104,4],[37,4,105,2],[38,4,105,3],[38,15,105,3,"_createClass2"],[38,28,105,3],[38,29,105,3,"default"],[38,36,105,3],[38,38,105,3,"AppStateImpl"],[38,50,105,3],[39,6,105,3,"key"],[39,9,105,3],[40,6,105,3,"value"],[40,11,105,3],[40,13,113,2],[40,22,113,2,"addEventListener"],[40,38,113,18,"addEventListener"],[40,39,114,4,"type"],[40,43,114,11],[40,45,115,4,"handler"],[40,52,115,53],[40,54,116,23],[41,8,117,4],[41,12,117,10,"emitter"],[41,19,117,17],[41,22,117,20],[41,26,117,24],[41,27,117,25,"_emitter"],[41,35,117,33],[42,8,118,4],[42,12,118,8,"emitter"],[42,19,118,15],[42,23,118,19],[42,27,118,23],[42,29,118,25],[43,10,119,6],[43,16,119,12],[43,20,119,16,"Error"],[43,25,119,21],[43,26,119,22],[43,76,119,72],[43,77,119,73],[44,8,120,4],[45,8,121,4],[45,16,121,12,"type"],[45,20,121,16],[46,10,122,6],[46,15,122,11],[46,23,122,19],[47,12,124,8],[47,16,124,14,"changeHandler"],[47,29,124,51],[47,32,124,54,"handler"],[47,39,124,61],[48,12,125,8],[48,19,125,15,"emitter"],[48,26,125,22],[48,27,125,23,"addListener"],[48,38,125,34],[48,39,125,35],[48,58,125,54],[48,60,125,56],[48,70,125,56,"appStateData"],[48,82,125,68],[48,84,125,72],[49,14,126,10,"changeHandler"],[49,27,126,23],[49,28,126,24,"appStateData"],[49,40,126,36],[49,41,126,37,"app_state"],[49,50,126,46],[49,51,126,47],[50,12,127,8],[50,13,127,9],[50,14,127,10],[51,10,128,6],[51,15,128,11],[51,30,128,26],[52,12,130,8],[52,16,130,14,"memoryWarningHandler"],[52,36,130,46],[52,39,130,49,"handler"],[52,46,130,56],[53,12,131,8],[53,19,131,15,"emitter"],[53,26,131,22],[53,27,131,23,"addListener"],[53,38,131,34],[53,39,131,35],[53,54,131,50],[53,56,131,52,"memoryWarningHandler"],[53,76,131,72],[53,77,131,73],[54,10,132,6],[54,15,132,11],[54,21,132,17],[55,10,133,6],[55,15,133,11],[55,22,133,18],[56,12,135,8],[56,16,135,14,"focusOrBlurHandler"],[56,34,135,44],[56,37,135,47,"handler"],[56,44,135,54],[57,12,136,8],[57,19,136,15,"emitter"],[57,26,136,22],[57,27,136,23,"addListener"],[57,38,136,34],[57,39,136,35],[57,60,136,56],[57,62,136,58],[57,72,136,58,"hasFocus"],[57,80,136,66],[57,82,136,70],[58,14,139,10],[58,18,139,14,"type"],[58,22,139,18],[58,27,139,23],[58,33,139,29],[58,37,139,33],[58,38,139,34,"hasFocus"],[58,46,139,42],[58,48,139,44],[59,16,140,12,"focusOrBlurHandler"],[59,34,140,30],[59,35,140,31],[59,36,140,32],[60,14,141,10],[61,14,144,10],[61,18,144,14,"type"],[61,22,144,18],[61,27,144,23],[61,34,144,30],[61,38,144,34,"hasFocus"],[61,46,144,42],[61,48,144,44],[62,16,145,12,"focusOrBlurHandler"],[62,34,145,30],[62,35,145,31],[62,36,145,32],[63,14,146,10],[64,12,147,8],[64,13,147,9],[64,14,147,10],[65,8,148,4],[66,8,149,4],[66,14,149,10],[66,18,149,14,"Error"],[66,23,149,19],[66,24,149,20],[66,64,149,60],[66,67,149,63,"type"],[66,71,149,67],[66,72,149,68],[67,6,150,2],[68,4,150,3],[69,2,150,3],[70,2,153,0],[70,6,153,6,"AppState"],[70,14,153,28],[70,17,153,31],[70,21,153,35,"AppStateImpl"],[70,33,153,47],[70,34,153,48],[70,35,153,49],[71,2,153,50],[71,6,153,50,"_default"],[71,14,153,50],[71,17,153,50,"exports"],[71,24,153,50],[71,25,153,50,"default"],[71,32,153,50],[71,35,154,15,"AppState"],[71,43,154,23],[72,0,154,23],[72,3]],"functionMap":{"names":["<global>","AppStateImpl","AppStateImpl#constructor","emitter.addListener$argument_1","NativeAppState.getCurrentAppState$argument_0","AppStateImpl#addEventListener"],"mappings":"AAA;AC0D;ECM;+CCsB;ODG;wCEM;OFO;GDE;EIQ;wDFY;SEE;0DFS;SEW;GJG;CDC"}},"type":"js/module"}]}