{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":15},"end":{"line":3,"column":31,"index":46}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8="}},{"name":"./NavigationContext.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":47},"end":{"line":4,"column":59,"index":106}}],"key":"RM0XoJ1uy5+hqq85ZlLNt6FYuco="}}],"output":[{"data":{"code":"__d(function (global, _$$_REQUIRE, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.useFocusEvents = useFocusEvents;\n  var React = _interopRequireWildcard(_$$_REQUIRE(_dependencyMap[0], \"react\"));\n  function _interopRequireWildcard(e, t) { if (\"function\" == typeof WeakMap) var r = new WeakMap(), n = new WeakMap(); return (_interopRequireWildcard = function _interopRequireWildcard(e, t) { if (!t && e && e.__esModule) return e; var o, i, f = { __proto__: null, default: e }; if (null === e || \"object\" != typeof e && \"function\" != typeof e) return f; if (o = t ? n : r) { if (o.has(e)) return o.get(e); o.set(e, f); } for (var _t in e) \"default\" !== _t && {}.hasOwnProperty.call(e, _t) && ((i = (o = Object.defineProperty) && Object.getOwnPropertyDescriptor(e, _t)) && (i.get || i.set) ? o(f, _t, i) : f[_t] = e[_t]); return f; })(e, t); }\n  /**\n   * Hook to take care of emitting `focus` and `blur` events.\n   */\n  function useFocusEvents(_ref) {\n    var state = _ref.state,\n      emitter = _ref.emitter;\n    var navigation = React.useContext(_$$_REQUIRE(_dependencyMap[1], \"./NavigationContext.js\").NavigationContext);\n    var lastFocusedKeyRef = React.useRef(undefined);\n    var currentFocusedKey = state.routes[state.index].key;\n\n    // When the parent screen changes its focus state, we also need to change child's focus\n    // Coz the child screen can't be focused if the parent screen is out of focus\n    React.useEffect(function () {\n      return navigation == null ? void 0 : navigation.addListener('focus', function () {\n        lastFocusedKeyRef.current = currentFocusedKey;\n        emitter.emit({\n          type: 'focus',\n          target: currentFocusedKey\n        });\n      });\n    }, [currentFocusedKey, emitter, navigation]);\n    React.useEffect(function () {\n      return navigation == null ? void 0 : navigation.addListener('blur', function () {\n        lastFocusedKeyRef.current = undefined;\n        emitter.emit({\n          type: 'blur',\n          target: currentFocusedKey\n        });\n      });\n    }, [currentFocusedKey, emitter, navigation]);\n    React.useEffect(function () {\n      var lastFocusedKey = lastFocusedKeyRef.current;\n      lastFocusedKeyRef.current = currentFocusedKey;\n\n      // We wouldn't have `lastFocusedKey` on initial mount\n      // Fire focus event for the current route on mount if there's no parent navigator\n      if (lastFocusedKey === undefined && !navigation) {\n        emitter.emit({\n          type: 'focus',\n          target: currentFocusedKey\n        });\n      }\n\n      // We should only emit events when the focused key changed and navigator is focused\n      // When navigator is not focused, screens inside shouldn't receive focused status either\n      if (lastFocusedKey === currentFocusedKey || !(navigation ? navigation.isFocused() : true)) {\n        return;\n      }\n      if (lastFocusedKey === undefined) {\n        // Only fire events after initial mount\n        return;\n      }\n      emitter.emit({\n        type: 'blur',\n        target: lastFocusedKey\n      });\n      emitter.emit({\n        type: 'focus',\n        target: currentFocusedKey\n      });\n    }, [currentFocusedKey, emitter, navigation]);\n  }\n});","lineCount":72,"map":[[2,2,1,0],[2,14,1,12],[4,2,1,13,"Object"],[4,8,1,13],[4,9,1,13,"defineProperty"],[4,23,1,13],[4,24,1,13,"exports"],[4,31,1,13],[5,4,1,13,"value"],[5,9,1,13],[6,2,1,13],[7,2,1,13,"exports"],[7,9,1,13],[7,10,1,13,"useFocusEvents"],[7,24,1,13],[7,27,1,13,"useFocusEvents"],[7,41,1,13],[8,2,3,0],[8,6,3,0,"React"],[8,11,3,0],[8,14,3,0,"_interopRequireWildcard"],[8,37,3,0],[8,38,3,0,"_$$_REQUIRE"],[8,49,3,0],[8,50,3,0,"_dependencyMap"],[8,64,3,0],[9,2,3,31],[9,11,3,31,"_interopRequireWildcard"],[9,35,3,31,"e"],[9,36,3,31],[9,38,3,31,"t"],[9,39,3,31],[9,68,3,31,"WeakMap"],[9,75,3,31],[9,81,3,31,"r"],[9,82,3,31],[9,89,3,31,"WeakMap"],[9,96,3,31],[9,100,3,31,"n"],[9,101,3,31],[9,108,3,31,"WeakMap"],[9,115,3,31],[9,127,3,31,"_interopRequireWildcard"],[9,150,3,31],[9,162,3,31,"_interopRequireWildcard"],[9,186,3,31,"e"],[9,187,3,31],[9,189,3,31,"t"],[9,190,3,31],[9,199,3,31,"t"],[9,200,3,31],[9,204,3,31,"e"],[9,205,3,31],[9,209,3,31,"e"],[9,210,3,31],[9,211,3,31,"__esModule"],[9,221,3,31],[9,230,3,31,"e"],[9,231,3,31],[9,237,3,31,"o"],[9,238,3,31],[9,240,3,31,"i"],[9,241,3,31],[9,243,3,31,"f"],[9,244,3,31],[9,249,3,31,"__proto__"],[9,258,3,31],[9,266,3,31,"default"],[9,273,3,31],[9,275,3,31,"e"],[9,276,3,31],[9,293,3,31,"e"],[9,294,3,31],[9,317,3,31,"e"],[9,318,3,31],[9,343,3,31,"e"],[9,344,3,31],[9,353,3,31,"f"],[9,354,3,31],[9,360,3,31,"o"],[9,361,3,31],[9,364,3,31,"t"],[9,365,3,31],[9,368,3,31,"n"],[9,369,3,31],[9,372,3,31,"r"],[9,373,3,31],[9,381,3,31,"o"],[9,382,3,31],[9,383,3,31,"has"],[9,386,3,31],[9,387,3,31,"e"],[9,388,3,31],[9,398,3,31,"o"],[9,399,3,31],[9,400,3,31,"get"],[9,403,3,31],[9,404,3,31,"e"],[9,405,3,31],[9,408,3,31,"o"],[9,409,3,31],[9,410,3,31,"set"],[9,413,3,31],[9,414,3,31,"e"],[9,415,3,31],[9,417,3,31,"f"],[9,418,3,31],[9,432,3,31,"_t"],[9,434,3,31],[9,438,3,31,"e"],[9,439,3,31],[9,455,3,31,"_t"],[9,457,3,31],[9,464,3,31,"hasOwnProperty"],[9,478,3,31],[9,479,3,31,"call"],[9,483,3,31],[9,484,3,31,"e"],[9,485,3,31],[9,487,3,31,"_t"],[9,489,3,31],[9,496,3,31,"i"],[9,497,3,31],[9,501,3,31,"o"],[9,502,3,31],[9,505,3,31,"Object"],[9,511,3,31],[9,512,3,31,"defineProperty"],[9,526,3,31],[9,531,3,31,"Object"],[9,537,3,31],[9,538,3,31,"getOwnPropertyDescriptor"],[9,562,3,31],[9,563,3,31,"e"],[9,564,3,31],[9,566,3,31,"_t"],[9,568,3,31],[9,575,3,31,"i"],[9,576,3,31],[9,577,3,31,"get"],[9,580,3,31],[9,584,3,31,"i"],[9,585,3,31],[9,586,3,31,"set"],[9,589,3,31],[9,593,3,31,"o"],[9,594,3,31],[9,595,3,31,"f"],[9,596,3,31],[9,598,3,31,"_t"],[9,600,3,31],[9,602,3,31,"i"],[9,603,3,31],[9,607,3,31,"f"],[9,608,3,31],[9,609,3,31,"_t"],[9,611,3,31],[9,615,3,31,"e"],[9,616,3,31],[9,617,3,31,"_t"],[9,619,3,31],[9,630,3,31,"f"],[9,631,3,31],[9,636,3,31,"e"],[9,637,3,31],[9,639,3,31,"t"],[9,640,3,31],[10,2,5,0],[11,0,6,0],[12,0,7,0],[13,2,8,7],[13,11,8,16,"useFocusEvents"],[13,25,8,30,"useFocusEvents"],[13,26,8,30,"_ref"],[13,30,8,30],[13,32,11,3],[14,4,11,3],[14,8,9,2,"state"],[14,13,9,7],[14,16,9,7,"_ref"],[14,20,9,7],[14,21,9,2,"state"],[14,26,9,7],[15,6,10,2,"emitter"],[15,13,10,9],[15,16,10,9,"_ref"],[15,20,10,9],[15,21,10,2,"emitter"],[15,28,10,9],[16,4,12,2],[16,8,12,8,"navigation"],[16,18,12,18],[16,21,12,21,"React"],[16,26,12,26],[16,27,12,27,"useContext"],[16,37,12,37],[16,38,12,38,"NavigationContext"],[16,68,12,38],[16,69,12,38,"NavigationContext"],[16,112,12,55],[16,113,12,56],[17,4,13,2],[17,8,13,8,"lastFocusedKeyRef"],[17,25,13,25],[17,28,13,28,"React"],[17,33,13,33],[17,34,13,34,"useRef"],[17,40,13,40],[17,41,13,41,"undefined"],[17,50,13,50],[17,51,13,51],[18,4,14,2],[18,8,14,8,"currentFocusedKey"],[18,25,14,25],[18,28,14,28,"state"],[18,33,14,33],[18,34,14,34,"routes"],[18,40,14,40],[18,41,14,41,"state"],[18,46,14,46],[18,47,14,47,"index"],[18,52,14,52],[18,53,14,53],[18,54,14,54,"key"],[18,57,14,57],[20,4,16,2],[21,4,17,2],[22,4,18,2,"React"],[22,9,18,7],[22,10,18,8,"useEffect"],[22,19,18,17],[22,20,18,18],[23,6,18,18],[23,13,18,24,"navigation"],[23,23,18,34],[23,43,18,24,"navigation"],[23,53,18,34],[23,54,18,36,"addListener"],[23,65,18,47],[23,66,18,48],[23,73,18,55],[23,75,18,57],[23,87,18,63],[24,8,19,4,"lastFocusedKeyRef"],[24,25,19,21],[24,26,19,22,"current"],[24,33,19,29],[24,36,19,32,"currentFocusedKey"],[24,53,19,49],[25,8,20,4,"emitter"],[25,15,20,11],[25,16,20,12,"emit"],[25,20,20,16],[25,21,20,17],[26,10,21,6,"type"],[26,14,21,10],[26,16,21,12],[26,23,21,19],[27,10,22,6,"target"],[27,16,22,12],[27,18,22,14,"currentFocusedKey"],[28,8,23,4],[28,9,23,5],[28,10,23,6],[29,6,24,2],[29,7,24,3],[29,8,24,4],[30,4,24,4],[30,7,24,6],[30,8,24,7,"currentFocusedKey"],[30,25,24,24],[30,27,24,26,"emitter"],[30,34,24,33],[30,36,24,35,"navigation"],[30,46,24,45],[30,47,24,46],[30,48,24,47],[31,4,25,2,"React"],[31,9,25,7],[31,10,25,8,"useEffect"],[31,19,25,17],[31,20,25,18],[32,6,25,18],[32,13,25,24,"navigation"],[32,23,25,34],[32,43,25,24,"navigation"],[32,53,25,34],[32,54,25,36,"addListener"],[32,65,25,47],[32,66,25,48],[32,72,25,54],[32,74,25,56],[32,86,25,62],[33,8,26,4,"lastFocusedKeyRef"],[33,25,26,21],[33,26,26,22,"current"],[33,33,26,29],[33,36,26,32,"undefined"],[33,45,26,41],[34,8,27,4,"emitter"],[34,15,27,11],[34,16,27,12,"emit"],[34,20,27,16],[34,21,27,17],[35,10,28,6,"type"],[35,14,28,10],[35,16,28,12],[35,22,28,18],[36,10,29,6,"target"],[36,16,29,12],[36,18,29,14,"currentFocusedKey"],[37,8,30,4],[37,9,30,5],[37,10,30,6],[38,6,31,2],[38,7,31,3],[38,8,31,4],[39,4,31,4],[39,7,31,6],[39,8,31,7,"currentFocusedKey"],[39,25,31,24],[39,27,31,26,"emitter"],[39,34,31,33],[39,36,31,35,"navigation"],[39,46,31,45],[39,47,31,46],[39,48,31,47],[40,4,32,2,"React"],[40,9,32,7],[40,10,32,8,"useEffect"],[40,19,32,17],[40,20,32,18],[40,32,32,24],[41,6,33,4],[41,10,33,10,"lastFocusedKey"],[41,24,33,24],[41,27,33,27,"lastFocusedKeyRef"],[41,44,33,44],[41,45,33,45,"current"],[41,52,33,52],[42,6,34,4,"lastFocusedKeyRef"],[42,23,34,21],[42,24,34,22,"current"],[42,31,34,29],[42,34,34,32,"currentFocusedKey"],[42,51,34,49],[44,6,36,4],[45,6,37,4],[46,6,38,4],[46,10,38,8,"lastFocusedKey"],[46,24,38,22],[46,29,38,27,"undefined"],[46,38,38,36],[46,42,38,40],[46,43,38,41,"navigation"],[46,53,38,51],[46,55,38,53],[47,8,39,6,"emitter"],[47,15,39,13],[47,16,39,14,"emit"],[47,20,39,18],[47,21,39,19],[48,10,40,8,"type"],[48,14,40,12],[48,16,40,14],[48,23,40,21],[49,10,41,8,"target"],[49,16,41,14],[49,18,41,16,"currentFocusedKey"],[50,8,42,6],[50,9,42,7],[50,10,42,8],[51,6,43,4],[53,6,45,4],[54,6,46,4],[55,6,47,4],[55,10,47,8,"lastFocusedKey"],[55,24,47,22],[55,29,47,27,"currentFocusedKey"],[55,46,47,44],[55,50,47,48],[55,52,47,50,"navigation"],[55,62,47,60],[55,65,47,63,"navigation"],[55,75,47,73],[55,76,47,74,"isFocused"],[55,85,47,83],[55,86,47,84],[55,87,47,85],[55,90,47,88],[55,94,47,92],[55,95,47,93],[55,97,47,95],[56,8,48,6],[57,6,49,4],[58,6,50,4],[58,10,50,8,"lastFocusedKey"],[58,24,50,22],[58,29,50,27,"undefined"],[58,38,50,36],[58,40,50,38],[59,8,51,6],[60,8,52,6],[61,6,53,4],[62,6,54,4,"emitter"],[62,13,54,11],[62,14,54,12,"emit"],[62,18,54,16],[62,19,54,17],[63,8,55,6,"type"],[63,12,55,10],[63,14,55,12],[63,20,55,18],[64,8,56,6,"target"],[64,14,56,12],[64,16,56,14,"lastFocusedKey"],[65,6,57,4],[65,7,57,5],[65,8,57,6],[66,6,58,4,"emitter"],[66,13,58,11],[66,14,58,12,"emit"],[66,18,58,16],[66,19,58,17],[67,8,59,6,"type"],[67,12,59,10],[67,14,59,12],[67,21,59,19],[68,8,60,6,"target"],[68,14,60,12],[68,16,60,14,"currentFocusedKey"],[69,6,61,4],[69,7,61,5],[69,8,61,6],[70,4,62,2],[70,5,62,3],[70,7,62,5],[70,8,62,6,"currentFocusedKey"],[70,25,62,23],[70,27,62,25,"emitter"],[70,34,62,32],[70,36,62,34,"navigation"],[70,46,62,44],[70,47,62,45],[70,48,62,46],[71,2,63,0],[72,0,63,1],[72,3]],"functionMap":{"names":["<global>","useFocusEvents","React.useEffect$argument_0","navigation.addListener$argument_1"],"mappings":"AAA;OCO;kBCU,uCC;GDM,CD;kBCC,sCC;GDM,CD;kBCC;GD8B;CDC"}},"type":"js/module"}]}