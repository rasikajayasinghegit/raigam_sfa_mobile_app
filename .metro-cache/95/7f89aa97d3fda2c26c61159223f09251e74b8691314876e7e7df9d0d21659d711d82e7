{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"kslwqCIsh6ew+I1KeA1rlVRjsAk="}},{"name":"@babel/runtime/helpers/slicedToArray","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"5y7e5+zC7teYEEC6niD9f5zII1M="}},{"name":"@babel/runtime/helpers/classCallCheck","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"yg7e6laZwmpbIvId5jovq9ugXp8="}},{"name":"@babel/runtime/helpers/createClass","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"Z6pzkVZ2fvxBLkFTgVVOy4UDj30="}},{"name":"./ListMetricsAggregator","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":15,"column":0},"end":{"line":15,"column":60}}],"key":"+LsZXRWRdDHi7URH4twavK8owRs="}},{"name":"invariant","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":17,"column":18},"end":{"line":17,"column":38}}],"key":"oQpL0Es3H146KnQH9ygFeHrzVP4="}}],"output":[{"data":{"code":"__d(function (global, _$$_REQUIRE, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  'use strict';\n\n  var _interopRequireDefault = _$$_REQUIRE(_dependencyMap[0], \"@babel/runtime/helpers/interopRequireDefault\");\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.default = void 0;\n  var _slicedToArray2 = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[1], \"@babel/runtime/helpers/slicedToArray\"));\n  var _classCallCheck2 = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[2], \"@babel/runtime/helpers/classCallCheck\"));\n  var _createClass2 = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[3], \"@babel/runtime/helpers/createClass\"));\n  var _ListMetricsAggregator = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[4], \"./ListMetricsAggregator\"));\n  var ViewabilityHelper = /*#__PURE__*/function () {\n    function ViewabilityHelper() {\n      var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {\n        viewAreaCoveragePercentThreshold: 0\n      };\n      (0, _classCallCheck2.default)(this, ViewabilityHelper);\n      this._hasInteracted = false;\n      this._timers = new Set();\n      this._viewableIndices = [];\n      this._viewableItems = new Map();\n      this._config = config;\n    }\n    return (0, _createClass2.default)(ViewabilityHelper, [{\n      key: \"dispose\",\n      value: function dispose() {\n        this._timers.forEach(clearTimeout);\n      }\n    }, {\n      key: \"computeViewableItems\",\n      value: function computeViewableItems(props, scrollOffset, viewportHeight, listMetrics, renderRange) {\n        var itemCount = props.getItemCount(props.data);\n        var _this$_config = this._config,\n          itemVisiblePercentThreshold = _this$_config.itemVisiblePercentThreshold,\n          viewAreaCoveragePercentThreshold = _this$_config.viewAreaCoveragePercentThreshold;\n        var viewAreaMode = viewAreaCoveragePercentThreshold != null;\n        var viewablePercentThreshold = viewAreaMode ? viewAreaCoveragePercentThreshold : itemVisiblePercentThreshold;\n        _$$_REQUIRE(_dependencyMap[5], \"invariant\")(viewablePercentThreshold != null && itemVisiblePercentThreshold != null !== (viewAreaCoveragePercentThreshold != null), 'Must set exactly one of itemVisiblePercentThreshold or viewAreaCoveragePercentThreshold');\n        var viewableIndices = [];\n        if (itemCount === 0) {\n          return viewableIndices;\n        }\n        var firstVisible = -1;\n        var _ref = renderRange || {\n            first: 0,\n            last: itemCount - 1\n          },\n          first = _ref.first,\n          last = _ref.last;\n        if (last >= itemCount) {\n          console.warn('Invalid render range computing viewability ' + JSON.stringify({\n            renderRange: renderRange,\n            itemCount: itemCount\n          }));\n          return [];\n        }\n        for (var idx = first; idx <= last; idx++) {\n          var metrics = listMetrics.getCellMetrics(idx, props);\n          if (!metrics) {\n            continue;\n          }\n          var top = Math.floor(metrics.offset - scrollOffset);\n          var bottom = Math.floor(top + metrics.length);\n          if (top < viewportHeight && bottom > 0) {\n            firstVisible = idx;\n            if (_isViewable(viewAreaMode, viewablePercentThreshold, top, bottom, viewportHeight, metrics.length)) {\n              viewableIndices.push(idx);\n            }\n          } else if (firstVisible >= 0) {\n            break;\n          }\n        }\n        return viewableIndices;\n      }\n    }, {\n      key: \"onUpdate\",\n      value: function onUpdate(props, scrollOffset, viewportHeight, listMetrics, createViewToken, onViewableItemsChanged, renderRange) {\n        var _this = this;\n        var itemCount = props.getItemCount(props.data);\n        if (this._config.waitForInteraction && !this._hasInteracted || itemCount === 0 || !listMetrics.getCellMetrics(0, props)) {\n          return;\n        }\n        var viewableIndices = [];\n        if (itemCount) {\n          viewableIndices = this.computeViewableItems(props, scrollOffset, viewportHeight, listMetrics, renderRange);\n        }\n        if (this._viewableIndices.length === viewableIndices.length && this._viewableIndices.every(function (v, ii) {\n          return v === viewableIndices[ii];\n        })) {\n          return;\n        }\n        this._viewableIndices = viewableIndices;\n        if (this._config.minimumViewTime) {\n          var handle = setTimeout(function () {\n            _this._timers.delete(handle);\n            _this._onUpdateSync(props, viewableIndices, onViewableItemsChanged, createViewToken);\n          }, this._config.minimumViewTime);\n          this._timers.add(handle);\n        } else {\n          this._onUpdateSync(props, viewableIndices, onViewableItemsChanged, createViewToken);\n        }\n      }\n    }, {\n      key: \"resetViewableIndices\",\n      value: function resetViewableIndices() {\n        this._viewableIndices = [];\n      }\n    }, {\n      key: \"recordInteraction\",\n      value: function recordInteraction() {\n        this._hasInteracted = true;\n      }\n    }, {\n      key: \"_onUpdateSync\",\n      value: function _onUpdateSync(props, viewableIndicesToCheck, onViewableItemsChanged, createViewToken) {\n        var _this2 = this;\n        viewableIndicesToCheck = viewableIndicesToCheck.filter(function (ii) {\n          return _this2._viewableIndices.includes(ii);\n        });\n        var prevItems = this._viewableItems;\n        var nextItems = new Map(viewableIndicesToCheck.map(function (ii) {\n          var viewable = createViewToken(ii, true, props);\n          return [viewable.key, viewable];\n        }));\n        var changed = [];\n        for (var _ref2 of nextItems) {\n          var _ref3 = (0, _slicedToArray2.default)(_ref2, 2);\n          var key = _ref3[0];\n          var viewable = _ref3[1];\n          if (!prevItems.has(key)) {\n            changed.push(viewable);\n          }\n        }\n        for (var _ref4 of prevItems) {\n          var _ref5 = (0, _slicedToArray2.default)(_ref4, 2);\n          var _key = _ref5[0];\n          var _viewable = _ref5[1];\n          if (!nextItems.has(_key)) {\n            changed.push(Object.assign({}, _viewable, {\n              isViewable: false\n            }));\n          }\n        }\n        if (changed.length > 0) {\n          this._viewableItems = nextItems;\n          onViewableItemsChanged({\n            viewableItems: Array.from(nextItems.values()),\n            changed: changed,\n            viewabilityConfig: this._config\n          });\n        }\n      }\n    }]);\n  }();\n  function _isViewable(viewAreaMode, viewablePercentThreshold, top, bottom, viewportHeight, itemLength) {\n    if (_isEntirelyVisible(top, bottom, viewportHeight)) {\n      return true;\n    } else {\n      var pixels = _getPixelsVisible(top, bottom, viewportHeight);\n      var percent = 100 * (viewAreaMode ? pixels / viewportHeight : pixels / itemLength);\n      return percent >= viewablePercentThreshold;\n    }\n  }\n  function _getPixelsVisible(top, bottom, viewportHeight) {\n    var visibleHeight = Math.min(bottom, viewportHeight) - Math.max(top, 0);\n    return Math.max(0, visibleHeight);\n  }\n  function _isEntirelyVisible(top, bottom, viewportHeight) {\n    return top >= 0 && bottom <= viewportHeight && bottom > top;\n  }\n  var _default = exports.default = ViewabilityHelper;\n});","lineCount":173,"map":[[2,2,11,0],[2,14,11,12],[4,2,11,13],[4,6,11,13,"_interopRequireDefault"],[4,28,11,13],[4,31,11,13,"_$$_REQUIRE"],[4,42,11,13],[4,43,11,13,"_dependencyMap"],[4,57,11,13],[5,2,11,13,"Object"],[5,8,11,13],[5,9,11,13,"defineProperty"],[5,23,11,13],[5,24,11,13,"exports"],[5,31,11,13],[6,4,11,13,"value"],[6,9,11,13],[7,2,11,13],[8,2,11,13,"exports"],[8,9,11,13],[8,10,11,13,"default"],[8,17,11,13],[9,2,11,13],[9,6,11,13,"_slicedToArray2"],[9,21,11,13],[9,24,11,13,"_interopRequireDefault"],[9,46,11,13],[9,47,11,13,"_$$_REQUIRE"],[9,58,11,13],[9,59,11,13,"_dependencyMap"],[9,73,11,13],[10,2,11,13],[10,6,11,13,"_classCallCheck2"],[10,22,11,13],[10,25,11,13,"_interopRequireDefault"],[10,47,11,13],[10,48,11,13,"_$$_REQUIRE"],[10,59,11,13],[10,60,11,13,"_dependencyMap"],[10,74,11,13],[11,2,11,13],[11,6,11,13,"_createClass2"],[11,19,11,13],[11,22,11,13,"_interopRequireDefault"],[11,44,11,13],[11,45,11,13,"_$$_REQUIRE"],[11,56,11,13],[11,57,11,13,"_dependencyMap"],[11,71,11,13],[12,2,15,0],[12,6,15,0,"_ListMetricsAggregator"],[12,28,15,0],[12,31,15,0,"_interopRequireDefault"],[12,53,15,0],[12,54,15,0,"_$$_REQUIRE"],[12,65,15,0],[12,66,15,0,"_dependencyMap"],[12,80,15,0],[13,2,15,60],[13,6,82,6,"ViewabilityHelper"],[13,23,82,23],[14,4,89,2],[14,13,89,2,"ViewabilityHelper"],[14,31,89,2],[14,33,91,4],[15,6,91,4],[15,10,90,4,"config"],[15,16,90,29],[15,19,90,29,"arguments"],[15,28,90,29],[15,29,90,29,"length"],[15,35,90,29],[15,43,90,29,"arguments"],[15,52,90,29],[15,60,90,29,"undefined"],[15,69,90,29],[15,72,90,29,"arguments"],[15,81,90,29],[15,87,90,32],[16,8,90,33,"viewAreaCoveragePercentThreshold"],[16,40,90,65],[16,42,90,67],[17,6,90,68],[17,7,90,69],[18,6,90,69],[18,10,90,69,"_classCallCheck2"],[18,26,90,69],[18,27,90,69,"default"],[18,34,90,69],[18,42,90,69,"ViewabilityHelper"],[18,59,90,69],[19,6,90,69],[19,11,84,2,"_hasInteracted"],[19,25,84,16],[19,28,84,28],[19,33,84,33],[20,6,84,33],[20,11,85,2,"_timers"],[20,18,85,9],[20,21,85,25],[20,25,85,29,"Set"],[20,28,85,32],[20,29,85,33],[20,30,85,34],[21,6,85,34],[21,11,86,2,"_viewableIndices"],[21,27,86,18],[21,30,86,36],[21,32,86,38],[22,6,86,38],[22,11,87,2,"_viewableItems"],[22,25,87,16],[22,28,87,43],[22,32,87,47,"Map"],[22,35,87,50],[22,36,87,51],[22,37,87,52],[23,6,92,4],[23,10,92,8],[23,11,92,9,"_config"],[23,18,92,16],[23,21,92,19,"config"],[23,27,92,25],[24,4,93,2],[25,4,93,3],[25,15,93,3,"_createClass2"],[25,28,93,3],[25,29,93,3,"default"],[25,36,93,3],[25,38,93,3,"ViewabilityHelper"],[25,55,93,3],[26,6,93,3,"key"],[26,9,93,3],[27,6,93,3,"value"],[27,11,93,3],[27,13,98,2],[27,22,98,2,"dispose"],[27,29,98,9,"dispose"],[27,30,98,9],[27,32,98,12],[28,8,102,4],[28,12,102,8],[28,13,102,9,"_timers"],[28,20,102,16],[28,21,102,17,"forEach"],[28,28,102,24],[28,29,102,25,"clearTimeout"],[28,41,102,37],[28,42,102,38],[29,6,103,2],[30,4,103,3],[31,6,103,3,"key"],[31,9,103,3],[32,6,103,3,"value"],[32,11,103,3],[32,13,108,2],[32,22,108,2,"computeViewableItems"],[32,42,108,22,"computeViewableItems"],[32,43,109,4,"props"],[32,48,109,26],[32,50,110,4,"scrollOffset"],[32,62,110,24],[32,64,111,4,"viewportHeight"],[32,78,111,26],[32,80,112,4,"listMetrics"],[32,91,112,38],[32,93,114,4,"renderRange"],[32,104,118,5],[32,106,119,19],[33,8,120,4],[33,12,120,10,"itemCount"],[33,21,120,19],[33,24,120,22,"props"],[33,29,120,27],[33,30,120,28,"getItemCount"],[33,42,120,40],[33,43,120,41,"props"],[33,48,120,46],[33,49,120,47,"data"],[33,53,120,51],[33,54,120,52],[34,8,121,4],[34,12,121,4,"_this$_config"],[34,25,121,4],[34,28,122,6],[34,32,122,10],[34,33,122,11,"_config"],[34,40,122,18],[35,10,121,11,"itemVisiblePercentThreshold"],[35,37,121,38],[35,40,121,38,"_this$_config"],[35,53,121,38],[35,54,121,11,"itemVisiblePercentThreshold"],[35,81,121,38],[36,10,121,40,"viewAreaCoveragePercentThreshold"],[36,42,121,72],[36,45,121,72,"_this$_config"],[36,58,121,72],[36,59,121,40,"viewAreaCoveragePercentThreshold"],[36,91,121,72],[37,8,123,4],[37,12,123,10,"viewAreaMode"],[37,24,123,22],[37,27,123,25,"viewAreaCoveragePercentThreshold"],[37,59,123,57],[37,63,123,61],[37,67,123,65],[38,8,124,4],[38,12,124,10,"viewablePercentThreshold"],[38,36,124,34],[38,39,124,37,"viewAreaMode"],[38,51,124,49],[38,54,125,8,"viewAreaCoveragePercentThreshold"],[38,86,125,40],[38,89,126,8,"itemVisiblePercentThreshold"],[38,116,126,35],[39,8,127,4,"_$$_REQUIRE"],[39,19,127,4],[39,20,127,4,"_dependencyMap"],[39,34,127,4],[39,52,128,6,"viewablePercentThreshold"],[39,76,128,30],[39,80,128,34],[39,84,128,38],[39,88,129,9,"itemVisiblePercentThreshold"],[39,115,129,36],[39,119,129,40],[39,123,129,44],[39,129,130,11,"viewAreaCoveragePercentThreshold"],[39,161,130,43],[39,165,130,47],[39,169,130,51],[39,170,130,52],[39,172,131,6],[39,261,132,4],[39,262,132,5],[40,8,133,4],[40,12,133,10,"viewableIndices"],[40,27,133,25],[40,30,133,28],[40,32,133,30],[41,8,134,4],[41,12,134,8,"itemCount"],[41,21,134,17],[41,26,134,22],[41,27,134,23],[41,29,134,25],[42,10,135,6],[42,17,135,13,"viewableIndices"],[42,32,135,28],[43,8,136,4],[44,8,137,4],[44,12,137,8,"firstVisible"],[44,24,137,20],[44,27,137,23],[44,28,137,24],[44,29,137,25],[45,8,138,4],[45,12,138,4,"_ref"],[45,16,138,4],[45,19,138,26,"renderRange"],[45,30,138,37],[45,34,138,41],[46,12,138,42,"first"],[46,17,138,47],[46,19,138,49],[46,20,138,50],[47,12,138,52,"last"],[47,16,138,56],[47,18,138,58,"itemCount"],[47,27,138,67],[47,30,138,70],[48,10,138,71],[48,11,138,72],[49,10,138,11,"first"],[49,15,138,16],[49,18,138,16,"_ref"],[49,22,138,16],[49,23,138,11,"first"],[49,28,138,16],[50,10,138,18,"last"],[50,14,138,22],[50,17,138,22,"_ref"],[50,21,138,22],[50,22,138,18,"last"],[50,26,138,22],[51,8,139,4],[51,12,139,8,"last"],[51,16,139,12],[51,20,139,16,"itemCount"],[51,29,139,25],[51,31,139,27],[52,10,140,6,"console"],[52,17,140,13],[52,18,140,14,"warn"],[52,22,140,18],[52,23,141,8],[52,68,141,53],[52,71,142,10,"JSON"],[52,75,142,14],[52,76,142,15,"stringify"],[52,85,142,24],[52,86,142,25],[53,12,142,26,"renderRange"],[53,23,142,37],[53,25,142,26,"renderRange"],[53,36,142,37],[54,12,142,39,"itemCount"],[54,21,142,48],[54,23,142,39,"itemCount"],[55,10,142,48],[55,11,142,49],[55,12,143,6],[55,13,143,7],[56,10,144,6],[56,17,144,13],[56,19,144,15],[57,8,145,4],[58,8,146,4],[58,13,146,9],[58,17,146,13,"idx"],[58,20,146,16],[58,23,146,19,"first"],[58,28,146,24],[58,30,146,26,"idx"],[58,33,146,29],[58,37,146,33,"last"],[58,41,146,37],[58,43,146,39,"idx"],[58,46,146,42],[58,48,146,44],[58,50,146,46],[59,10,147,6],[59,14,147,12,"metrics"],[59,21,147,19],[59,24,147,22,"listMetrics"],[59,35,147,33],[59,36,147,34,"getCellMetrics"],[59,50,147,48],[59,51,147,49,"idx"],[59,54,147,52],[59,56,147,54,"props"],[59,61,147,59],[59,62,147,60],[60,10,148,6],[60,14,148,10],[60,15,148,11,"metrics"],[60,22,148,18],[60,24,148,20],[61,12,149,8],[62,10,150,6],[63,10,151,6],[63,14,151,12,"top"],[63,17,151,15],[63,20,151,18,"Math"],[63,24,151,22],[63,25,151,23,"floor"],[63,30,151,28],[63,31,151,29,"metrics"],[63,38,151,36],[63,39,151,37,"offset"],[63,45,151,43],[63,48,151,46,"scrollOffset"],[63,60,151,58],[63,61,151,59],[64,10,152,6],[64,14,152,12,"bottom"],[64,20,152,18],[64,23,152,21,"Math"],[64,27,152,25],[64,28,152,26,"floor"],[64,33,152,31],[64,34,152,32,"top"],[64,37,152,35],[64,40,152,38,"metrics"],[64,47,152,45],[64,48,152,46,"length"],[64,54,152,52],[64,55,152,53],[65,10,154,6],[65,14,154,10,"top"],[65,17,154,13],[65,20,154,16,"viewportHeight"],[65,34,154,30],[65,38,154,34,"bottom"],[65,44,154,40],[65,47,154,43],[65,48,154,44],[65,50,154,46],[66,12,155,8,"firstVisible"],[66,24,155,20],[66,27,155,23,"idx"],[66,30,155,26],[67,12,156,8],[67,16,157,10,"_isViewable"],[67,27,157,21],[67,28,158,12,"viewAreaMode"],[67,40,158,24],[67,42,159,12,"viewablePercentThreshold"],[67,66,159,36],[67,68,160,12,"top"],[67,71,160,15],[67,73,161,12,"bottom"],[67,79,161,18],[67,81,162,12,"viewportHeight"],[67,95,162,26],[67,97,163,12,"metrics"],[67,104,163,19],[67,105,163,20,"length"],[67,111,164,10],[67,112,164,11],[67,114,165,10],[68,14,166,10,"viewableIndices"],[68,29,166,25],[68,30,166,26,"push"],[68,34,166,30],[68,35,166,31,"idx"],[68,38,166,34],[68,39,166,35],[69,12,167,8],[70,10,168,6],[70,11,168,7],[70,17,168,13],[70,21,168,17,"firstVisible"],[70,33,168,29],[70,37,168,33],[70,38,168,34],[70,40,168,36],[71,12,169,8],[72,10,170,6],[73,8,171,4],[74,8,172,4],[74,15,172,11,"viewableIndices"],[74,30,172,26],[75,6,173,2],[76,4,173,3],[77,6,173,3,"key"],[77,9,173,3],[78,6,173,3,"value"],[78,11,173,3],[78,13,179,2],[78,22,179,2,"onUpdate"],[78,30,179,10,"onUpdate"],[78,31,180,4,"props"],[78,36,180,26],[78,38,181,4,"scrollOffset"],[78,50,181,24],[78,52,182,4,"viewportHeight"],[78,66,182,26],[78,68,183,4,"listMetrics"],[78,79,183,38],[78,81,184,4,"createViewToken"],[78,96,188,18],[78,98,189,4,"onViewableItemsChanged"],[78,120,193,14],[78,122,195,4,"renderRange"],[78,133,199,5],[78,135,200,10],[79,8,200,10],[79,12,200,10,"_this"],[79,17,200,10],[80,8,201,4],[80,12,201,10,"itemCount"],[80,21,201,19],[80,24,201,22,"props"],[80,29,201,27],[80,30,201,28,"getItemCount"],[80,42,201,40],[80,43,201,41,"props"],[80,48,201,46],[80,49,201,47,"data"],[80,53,201,51],[80,54,201,52],[81,8,202,4],[81,12,203,7],[81,16,203,11],[81,17,203,12,"_config"],[81,24,203,19],[81,25,203,20,"waitForInteraction"],[81,43,203,38],[81,47,203,42],[81,48,203,43],[81,52,203,47],[81,53,203,48,"_hasInteracted"],[81,67,203,62],[81,71,204,6,"itemCount"],[81,80,204,15],[81,85,204,20],[81,86,204,21],[81,90,205,6],[81,91,205,7,"listMetrics"],[81,102,205,18],[81,103,205,19,"getCellMetrics"],[81,117,205,33],[81,118,205,34],[81,119,205,35],[81,121,205,37,"props"],[81,126,205,42],[81,127,205,43],[81,129,206,6],[82,10,207,6],[83,8,208,4],[84,8,209,4],[84,12,209,8,"viewableIndices"],[84,27,209,38],[84,30,209,41],[84,32,209,43],[85,8,210,4],[85,12,210,8,"itemCount"],[85,21,210,17],[85,23,210,19],[86,10,211,6,"viewableIndices"],[86,25,211,21],[86,28,211,24],[86,32,211,28],[86,33,211,29,"computeViewableItems"],[86,53,211,49],[86,54,212,8,"props"],[86,59,212,13],[86,61,213,8,"scrollOffset"],[86,73,213,20],[86,75,214,8,"viewportHeight"],[86,89,214,22],[86,91,215,8,"listMetrics"],[86,102,215,19],[86,104,216,8,"renderRange"],[86,115,217,6],[86,116,217,7],[87,8,218,4],[88,8,219,4],[88,12,220,6],[88,16,220,10],[88,17,220,11,"_viewableIndices"],[88,33,220,27],[88,34,220,28,"length"],[88,40,220,34],[88,45,220,39,"viewableIndices"],[88,60,220,54],[88,61,220,55,"length"],[88,67,220,61],[88,71,221,6],[88,75,221,10],[88,76,221,11,"_viewableIndices"],[88,92,221,27],[88,93,221,28,"every"],[88,98,221,33],[88,99,221,34],[88,109,221,35,"v"],[88,110,221,36],[88,112,221,38,"ii"],[88,114,221,40],[89,10,221,40],[89,17,221,45,"v"],[89,18,221,46],[89,23,221,51,"viewableIndices"],[89,38,221,66],[89,39,221,67,"ii"],[89,41,221,69],[89,42,221,70],[90,8,221,70],[90,10,221,71],[90,12,222,6],[91,10,225,6],[92,8,226,4],[93,8,227,4],[93,12,227,8],[93,13,227,9,"_viewableIndices"],[93,29,227,25],[93,32,227,28,"viewableIndices"],[93,47,227,43],[94,8,228,4],[94,12,228,8],[94,16,228,12],[94,17,228,13,"_config"],[94,24,228,20],[94,25,228,21,"minimumViewTime"],[94,40,228,36],[94,42,228,38],[95,10,229,6],[95,14,229,12,"handle"],[95,20,229,29],[95,23,229,32,"setTimeout"],[95,33,229,42],[95,34,229,43],[95,46,229,49],[96,12,233,8,"_this"],[96,17,233,12],[96,18,233,13,"_timers"],[96,25,233,20],[96,26,233,21,"delete"],[96,32,233,27],[96,33,233,28,"handle"],[96,39,233,34],[96,40,233,35],[97,12,234,8,"_this"],[97,17,234,12],[97,18,234,13,"_onUpdateSync"],[97,31,234,26],[97,32,235,10,"props"],[97,37,235,15],[97,39,236,10,"viewableIndices"],[97,54,236,25],[97,56,237,10,"onViewableItemsChanged"],[97,78,237,32],[97,80,238,10,"createViewToken"],[97,95,239,8],[97,96,239,9],[98,10,240,6],[98,11,240,7],[98,13,240,9],[98,17,240,13],[98,18,240,14,"_config"],[98,25,240,21],[98,26,240,22,"minimumViewTime"],[98,41,240,37],[98,42,240,38],[99,10,244,6],[99,14,244,10],[99,15,244,11,"_timers"],[99,22,244,18],[99,23,244,19,"add"],[99,26,244,22],[99,27,244,23,"handle"],[99,33,244,29],[99,34,244,30],[100,8,245,4],[100,9,245,5],[100,15,245,11],[101,10,246,6],[101,14,246,10],[101,15,246,11,"_onUpdateSync"],[101,28,246,24],[101,29,247,8,"props"],[101,34,247,13],[101,36,248,8,"viewableIndices"],[101,51,248,23],[101,53,249,8,"onViewableItemsChanged"],[101,75,249,30],[101,77,250,8,"createViewToken"],[101,92,251,6],[101,93,251,7],[102,8,252,4],[103,6,253,2],[104,4,253,3],[105,6,253,3,"key"],[105,9,253,3],[106,6,253,3,"value"],[106,11,253,3],[106,13,258,2],[106,22,258,2,"resetViewableIndices"],[106,42,258,22,"resetViewableIndices"],[106,43,258,22],[106,45,258,25],[107,8,259,4],[107,12,259,8],[107,13,259,9,"_viewableIndices"],[107,29,259,25],[107,32,259,28],[107,34,259,30],[108,6,260,2],[109,4,260,3],[110,6,260,3,"key"],[110,9,260,3],[111,6,260,3,"value"],[111,11,260,3],[111,13,265,2],[111,22,265,2,"recordInteraction"],[111,39,265,19,"recordInteraction"],[111,40,265,19],[111,42,265,22],[112,8,266,4],[112,12,266,8],[112,13,266,9,"_hasInteracted"],[112,27,266,23],[112,30,266,26],[112,34,266,30],[113,6,267,2],[114,4,267,3],[115,6,267,3,"key"],[115,9,267,3],[116,6,267,3,"value"],[116,11,267,3],[116,13,269,2],[116,22,269,2,"_onUpdateSync"],[116,35,269,15,"_onUpdateSync"],[116,36,270,4,"props"],[116,41,270,26],[116,43,271,4,"viewableIndicesToCheck"],[116,65,271,41],[116,67,272,4,"onViewableItemsChanged"],[116,89,276,14],[116,91,277,4,"createViewToken"],[116,106,281,18],[116,108,282,4],[117,8,282,4],[117,12,282,4,"_this2"],[117,18,282,4],[118,8,284,4,"viewableIndicesToCheck"],[118,30,284,26],[118,33,284,29,"viewableIndicesToCheck"],[118,55,284,51],[118,56,284,52,"filter"],[118,62,284,58],[118,63,284,59],[118,73,284,59,"ii"],[118,75,284,61],[119,10,284,61],[119,17,285,6,"_this2"],[119,23,285,10],[119,24,285,11,"_viewableIndices"],[119,40,285,27],[119,41,285,28,"includes"],[119,49,285,36],[119,50,285,37,"ii"],[119,52,285,39],[119,53,285,40],[120,8,285,40],[120,9,286,4],[120,10,286,5],[121,8,287,4],[121,12,287,10,"prevItems"],[121,21,287,19],[121,24,287,22],[121,28,287,26],[121,29,287,27,"_viewableItems"],[121,43,287,41],[122,8,288,4],[122,12,288,10,"nextItems"],[122,21,288,19],[122,24,288,22],[122,28,288,26,"Map"],[122,31,288,29],[122,32,289,6,"viewableIndicesToCheck"],[122,54,289,28],[122,55,289,29,"map"],[122,58,289,32],[122,59,289,33],[122,69,289,33,"ii"],[122,71,289,35],[122,73,289,39],[123,10,290,8],[123,14,290,14,"viewable"],[123,22,290,22],[123,25,290,25,"createViewToken"],[123,40,290,40],[123,41,290,41,"ii"],[123,43,290,43],[123,45,290,45],[123,49,290,49],[123,51,290,51,"props"],[123,56,290,56],[123,57,290,57],[124,10,291,8],[124,17,291,15],[124,18,291,16,"viewable"],[124,26,291,24],[124,27,291,25,"key"],[124,30,291,28],[124,32,291,30,"viewable"],[124,40,291,38],[124,41,291,39],[125,8,292,6],[125,9,292,7],[125,10,293,4],[125,11,293,5],[126,8,295,4],[126,12,295,10,"changed"],[126,19,295,17],[126,22,295,20],[126,24,295,22],[127,8,296,4],[127,17,296,4,"_ref2"],[127,22,296,4],[127,26,296,34,"nextItems"],[127,35,296,43],[127,37,296,45],[128,10,296,45],[128,14,296,45,"_ref3"],[128,19,296,45],[128,26,296,45,"_slicedToArray2"],[128,41,296,45],[128,42,296,45,"default"],[128,49,296,45],[128,51,296,45,"_ref2"],[128,56,296,45],[129,10,296,45],[129,14,296,16,"key"],[129,17,296,19],[129,20,296,19,"_ref3"],[129,25,296,19],[130,10,296,19],[130,14,296,21,"viewable"],[130,22,296,29],[130,25,296,29,"_ref3"],[130,30,296,29],[131,10,297,6],[131,14,297,10],[131,15,297,11,"prevItems"],[131,24,297,20],[131,25,297,21,"has"],[131,28,297,24],[131,29,297,25,"key"],[131,32,297,28],[131,33,297,29],[131,35,297,31],[132,12,298,8,"changed"],[132,19,298,15],[132,20,298,16,"push"],[132,24,298,20],[132,25,298,21,"viewable"],[132,33,298,29],[132,34,298,30],[133,10,299,6],[134,8,300,4],[135,8,301,4],[135,17,301,4,"_ref4"],[135,22,301,4],[135,26,301,34,"prevItems"],[135,35,301,43],[135,37,301,45],[136,10,301,45],[136,14,301,45,"_ref5"],[136,19,301,45],[136,26,301,45,"_slicedToArray2"],[136,41,301,45],[136,42,301,45,"default"],[136,49,301,45],[136,51,301,45,"_ref4"],[136,56,301,45],[137,10,301,45],[137,14,301,16,"key"],[137,18,301,19],[137,21,301,19,"_ref5"],[137,26,301,19],[138,10,301,19],[138,14,301,21,"viewable"],[138,23,301,29],[138,26,301,29,"_ref5"],[138,31,301,29],[139,10,302,6],[139,14,302,10],[139,15,302,11,"nextItems"],[139,24,302,20],[139,25,302,21,"has"],[139,28,302,24],[139,29,302,25,"key"],[139,33,302,28],[139,34,302,29],[139,36,302,31],[140,12,303,8,"changed"],[140,19,303,15],[140,20,303,16,"push"],[140,24,303,20],[140,25,303,20,"Object"],[140,31,303,20],[140,32,303,20,"assign"],[140,38,303,20],[140,43,303,25,"viewable"],[140,52,303,33],[141,14,303,35,"isViewable"],[141,24,303,45],[141,26,303,47],[142,12,303,52],[142,14,303,53],[142,15,303,54],[143,10,304,6],[144,8,305,4],[145,8,306,4],[145,12,306,8,"changed"],[145,19,306,15],[145,20,306,16,"length"],[145,26,306,22],[145,29,306,25],[145,30,306,26],[145,32,306,28],[146,10,307,6],[146,14,307,10],[146,15,307,11,"_viewableItems"],[146,29,307,25],[146,32,307,28,"nextItems"],[146,41,307,37],[147,10,308,6,"onViewableItemsChanged"],[147,32,308,28],[147,33,308,29],[148,12,309,8,"viewableItems"],[148,25,309,21],[148,27,309,23,"Array"],[148,32,309,28],[148,33,309,29,"from"],[148,37,309,33],[148,38,309,34,"nextItems"],[148,47,309,43],[148,48,309,44,"values"],[148,54,309,50],[148,55,309,51],[148,56,309,52],[148,57,309,53],[149,12,310,8,"changed"],[149,19,310,15],[149,21,310,8,"changed"],[149,28,310,15],[150,12,311,8,"viewabilityConfig"],[150,29,311,25],[150,31,311,27],[150,35,311,31],[150,36,311,32,"_config"],[151,10,312,6],[151,11,312,7],[151,12,312,8],[152,8,313,4],[153,6,314,2],[154,4,314,3],[155,2,314,3],[156,2,317,0],[156,11,317,9,"_isViewable"],[156,22,317,20,"_isViewable"],[156,23,318,2,"viewAreaMode"],[156,35,318,23],[156,37,319,2,"viewablePercentThreshold"],[156,61,319,34],[156,63,320,2,"top"],[156,66,320,13],[156,68,321,2,"bottom"],[156,74,321,16],[156,76,322,2,"viewportHeight"],[156,90,322,24],[156,92,323,2,"itemLength"],[156,102,323,20],[156,104,324,11],[157,4,325,2],[157,8,325,6,"_isEntirelyVisible"],[157,26,325,24],[157,27,325,25,"top"],[157,30,325,28],[157,32,325,30,"bottom"],[157,38,325,36],[157,40,325,38,"viewportHeight"],[157,54,325,52],[157,55,325,53],[157,57,325,55],[158,6,326,4],[158,13,326,11],[158,17,326,15],[159,4,327,2],[159,5,327,3],[159,11,327,9],[160,6,328,4],[160,10,328,10,"pixels"],[160,16,328,16],[160,19,328,19,"_getPixelsVisible"],[160,36,328,36],[160,37,328,37,"top"],[160,40,328,40],[160,42,328,42,"bottom"],[160,48,328,48],[160,50,328,50,"viewportHeight"],[160,64,328,64],[160,65,328,65],[161,6,329,4],[161,10,329,10,"percent"],[161,17,329,17],[161,20,330,6],[161,23,330,9],[161,27,330,13,"viewAreaMode"],[161,39,330,25],[161,42,330,28,"pixels"],[161,48,330,34],[161,51,330,37,"viewportHeight"],[161,65,330,51],[161,68,330,54,"pixels"],[161,74,330,60],[161,77,330,63,"itemLength"],[161,87,330,73],[161,88,330,74],[162,6,331,4],[162,13,331,11,"percent"],[162,20,331,18],[162,24,331,22,"viewablePercentThreshold"],[162,48,331,46],[163,4,332,2],[164,2,333,0],[165,2,335,0],[165,11,335,9,"_getPixelsVisible"],[165,28,335,26,"_getPixelsVisible"],[165,29,336,2,"top"],[165,32,336,13],[165,34,337,2,"bottom"],[165,40,337,16],[165,42,338,2,"viewportHeight"],[165,56,338,24],[165,58,339,10],[166,4,340,2],[166,8,340,8,"visibleHeight"],[166,21,340,21],[166,24,340,24,"Math"],[166,28,340,28],[166,29,340,29,"min"],[166,32,340,32],[166,33,340,33,"bottom"],[166,39,340,39],[166,41,340,41,"viewportHeight"],[166,55,340,55],[166,56,340,56],[166,59,340,59,"Math"],[166,63,340,63],[166,64,340,64,"max"],[166,67,340,67],[166,68,340,68,"top"],[166,71,340,71],[166,73,340,73],[166,74,340,74],[166,75,340,75],[167,4,341,2],[167,11,341,9,"Math"],[167,15,341,13],[167,16,341,14,"max"],[167,19,341,17],[167,20,341,18],[167,21,341,19],[167,23,341,21,"visibleHeight"],[167,36,341,34],[167,37,341,35],[168,2,342,0],[169,2,344,0],[169,11,344,9,"_isEntirelyVisible"],[169,29,344,27,"_isEntirelyVisible"],[169,30,345,2,"top"],[169,33,345,13],[169,35,346,2,"bottom"],[169,41,346,16],[169,43,347,2,"viewportHeight"],[169,57,347,24],[169,59,348,11],[170,4,349,2],[170,11,349,9,"top"],[170,14,349,12],[170,18,349,16],[170,19,349,17],[170,23,349,21,"bottom"],[170,29,349,27],[170,33,349,31,"viewportHeight"],[170,47,349,45],[170,51,349,49,"bottom"],[170,57,349,55],[170,60,349,58,"top"],[170,63,349,61],[171,2,350,0],[172,2,350,1],[172,6,350,1,"_default"],[172,14,350,1],[172,17,350,1,"exports"],[172,24,350,1],[172,25,350,1,"default"],[172,32,350,1],[172,35,352,15,"ViewabilityHelper"],[172,52,352,32],[173,0,352,32],[173,3]],"functionMap":{"names":["<global>","ViewabilityHelper","constructor","dispose","computeViewableItems","onUpdate","_viewableIndices.every$argument_0","setTimeout$argument_0","resetViewableIndices","recordInteraction","_onUpdateSync","viewableIndicesToCheck.filter$argument_0","viewableIndicesToCheck.map$argument_0","_isViewable","_getPixelsVisible","_isEntirelyVisible"],"mappings":"AAA;ACiF;ECO;GDI;EEK;GFK;EGK;GHiE;EIM;kCC0C,oCD;2CEQ;OFW;GJa;EOK;GPE;EQK;GRE;ESE;2DCe;wCDC;iCEI;OFG;GTsB;CDC;AaE;CbgB;AcE;CdO;AeE;CfM"}},"type":"js/module"}]}