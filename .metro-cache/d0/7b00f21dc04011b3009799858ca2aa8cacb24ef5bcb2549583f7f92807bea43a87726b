{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"kslwqCIsh6ew+I1KeA1rlVRjsAk="}},{"name":"@babel/runtime/helpers/objectWithoutProperties","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"fnQVLibs90KHiJ7y48fLgPWzDS0="}},{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":15},"end":{"line":3,"column":31,"index":46}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8="}},{"name":"./isRecordEqual.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":47},"end":{"line":4,"column":51,"index":98}}],"key":"E5lU3h554k94C0V5puhR219BWnU="}}],"output":[{"data":{"code":"__d(function (global, _$$_REQUIRE, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _interopRequireDefault = _$$_REQUIRE(_dependencyMap[0], \"@babel/runtime/helpers/interopRequireDefault\");\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.CHILD_STATE = void 0;\n  exports.useRouteCache = useRouteCache;\n  var _objectWithoutProperties2 = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[1], \"@babel/runtime/helpers/objectWithoutProperties\"));\n  var React = _interopRequireWildcard(_$$_REQUIRE(_dependencyMap[2], \"react\"));\n  var _excluded = [\"state\"];\n  function _interopRequireWildcard(e, t) { if (\"function\" == typeof WeakMap) var r = new WeakMap(), n = new WeakMap(); return (_interopRequireWildcard = function _interopRequireWildcard(e, t) { if (!t && e && e.__esModule) return e; var o, i, f = { __proto__: null, default: e }; if (null === e || \"object\" != typeof e && \"function\" != typeof e) return f; if (o = t ? n : r) { if (o.has(e)) return o.get(e); o.set(e, f); } for (var _t in e) \"default\" !== _t && {}.hasOwnProperty.call(e, _t) && ((i = (o = Object.defineProperty) && Object.getOwnPropertyDescriptor(e, _t)) && (i.get || i.set) ? o(f, _t, i) : f[_t] = e[_t]); return f; })(e, t); }\n  /**\n   * Utilities such as `getFocusedRouteNameFromRoute` need to access state.\n   * So we need a way to suppress the warning for those use cases.\n   * This is fine since they are internal utilities and this is not public API.\n   */\n  var CHILD_STATE = exports.CHILD_STATE = Symbol('CHILD_STATE');\n\n  /**\n   * Hook to cache route props for each screen in the navigator.\n   * This lets add warnings and modifications to the route object but keep references between renders.\n   */\n  function useRouteCache(routes) {\n    // Cache object which holds route objects for each screen\n    var cache = React.useMemo(function () {\n      return {\n        current: new Map()\n      };\n    }, []);\n    cache.current = routes.reduce(function (acc, route) {\n      var previous = cache.current.get(route.key);\n      var state = route.state,\n        routeWithoutState = (0, _objectWithoutProperties2.default)(route, _excluded);\n      var proxy;\n      if (previous && (0, _$$_REQUIRE(_dependencyMap[3], \"./isRecordEqual.js\").isRecordEqual)(previous, routeWithoutState)) {\n        // If a cached route object already exists, reuse it\n        proxy = previous;\n      } else {\n        proxy = routeWithoutState;\n      }\n      if (process.env.NODE_ENV !== 'production') {\n        // FIXME: since the state is updated with mutation, the route object cannot be frozen\n        // As a workaround, loop through the object and make the properties readonly\n        for (var key in proxy) {\n          // @ts-expect-error: this is fine since we are looping through the object\n          var value = proxy[key];\n          Object.defineProperty(proxy, key, {\n            enumerable: true,\n            configurable: true,\n            writable: false,\n            value: value\n          });\n        }\n      }\n      Object.defineProperty(proxy, CHILD_STATE, {\n        enumerable: false,\n        configurable: true,\n        value: state\n      });\n      acc.set(route.key, proxy);\n      return acc;\n    }, new Map());\n    return Array.from(cache.current.values());\n  }\n});","lineCount":67,"map":[[2,2,1,0],[2,14,1,12],[4,2,1,13],[4,6,1,13,"_interopRequireDefault"],[4,28,1,13],[4,31,1,13,"_$$_REQUIRE"],[4,42,1,13],[4,43,1,13,"_dependencyMap"],[4,57,1,13],[5,2,1,13,"Object"],[5,8,1,13],[5,9,1,13,"defineProperty"],[5,23,1,13],[5,24,1,13,"exports"],[5,31,1,13],[6,4,1,13,"value"],[6,9,1,13],[7,2,1,13],[8,2,1,13,"exports"],[8,9,1,13],[8,10,1,13,"CHILD_STATE"],[8,21,1,13],[9,2,1,13,"exports"],[9,9,1,13],[9,10,1,13,"useRouteCache"],[9,23,1,13],[9,26,1,13,"useRouteCache"],[9,39,1,13],[10,2,1,13],[10,6,1,13,"_objectWithoutProperties2"],[10,31,1,13],[10,34,1,13,"_interopRequireDefault"],[10,56,1,13],[10,57,1,13,"_$$_REQUIRE"],[10,68,1,13],[10,69,1,13,"_dependencyMap"],[10,83,1,13],[11,2,3,0],[11,6,3,0,"React"],[11,11,3,0],[11,14,3,0,"_interopRequireWildcard"],[11,37,3,0],[11,38,3,0,"_$$_REQUIRE"],[11,49,3,0],[11,50,3,0,"_dependencyMap"],[11,64,3,0],[12,2,3,31],[12,6,3,31,"_excluded"],[12,15,3,31],[13,2,3,31],[13,11,3,31,"_interopRequireWildcard"],[13,35,3,31,"e"],[13,36,3,31],[13,38,3,31,"t"],[13,39,3,31],[13,68,3,31,"WeakMap"],[13,75,3,31],[13,81,3,31,"r"],[13,82,3,31],[13,89,3,31,"WeakMap"],[13,96,3,31],[13,100,3,31,"n"],[13,101,3,31],[13,108,3,31,"WeakMap"],[13,115,3,31],[13,127,3,31,"_interopRequireWildcard"],[13,150,3,31],[13,162,3,31,"_interopRequireWildcard"],[13,186,3,31,"e"],[13,187,3,31],[13,189,3,31,"t"],[13,190,3,31],[13,199,3,31,"t"],[13,200,3,31],[13,204,3,31,"e"],[13,205,3,31],[13,209,3,31,"e"],[13,210,3,31],[13,211,3,31,"__esModule"],[13,221,3,31],[13,230,3,31,"e"],[13,231,3,31],[13,237,3,31,"o"],[13,238,3,31],[13,240,3,31,"i"],[13,241,3,31],[13,243,3,31,"f"],[13,244,3,31],[13,249,3,31,"__proto__"],[13,258,3,31],[13,266,3,31,"default"],[13,273,3,31],[13,275,3,31,"e"],[13,276,3,31],[13,293,3,31,"e"],[13,294,3,31],[13,317,3,31,"e"],[13,318,3,31],[13,343,3,31,"e"],[13,344,3,31],[13,353,3,31,"f"],[13,354,3,31],[13,360,3,31,"o"],[13,361,3,31],[13,364,3,31,"t"],[13,365,3,31],[13,368,3,31,"n"],[13,369,3,31],[13,372,3,31,"r"],[13,373,3,31],[13,381,3,31,"o"],[13,382,3,31],[13,383,3,31,"has"],[13,386,3,31],[13,387,3,31,"e"],[13,388,3,31],[13,398,3,31,"o"],[13,399,3,31],[13,400,3,31,"get"],[13,403,3,31],[13,404,3,31,"e"],[13,405,3,31],[13,408,3,31,"o"],[13,409,3,31],[13,410,3,31,"set"],[13,413,3,31],[13,414,3,31,"e"],[13,415,3,31],[13,417,3,31,"f"],[13,418,3,31],[13,432,3,31,"_t"],[13,434,3,31],[13,438,3,31,"e"],[13,439,3,31],[13,455,3,31,"_t"],[13,457,3,31],[13,464,3,31,"hasOwnProperty"],[13,478,3,31],[13,479,3,31,"call"],[13,483,3,31],[13,484,3,31,"e"],[13,485,3,31],[13,487,3,31,"_t"],[13,489,3,31],[13,496,3,31,"i"],[13,497,3,31],[13,501,3,31,"o"],[13,502,3,31],[13,505,3,31,"Object"],[13,511,3,31],[13,512,3,31,"defineProperty"],[13,526,3,31],[13,531,3,31,"Object"],[13,537,3,31],[13,538,3,31,"getOwnPropertyDescriptor"],[13,562,3,31],[13,563,3,31,"e"],[13,564,3,31],[13,566,3,31,"_t"],[13,568,3,31],[13,575,3,31,"i"],[13,576,3,31],[13,577,3,31,"get"],[13,580,3,31],[13,584,3,31,"i"],[13,585,3,31],[13,586,3,31,"set"],[13,589,3,31],[13,593,3,31,"o"],[13,594,3,31],[13,595,3,31,"f"],[13,596,3,31],[13,598,3,31,"_t"],[13,600,3,31],[13,602,3,31,"i"],[13,603,3,31],[13,607,3,31,"f"],[13,608,3,31],[13,609,3,31,"_t"],[13,611,3,31],[13,615,3,31,"e"],[13,616,3,31],[13,617,3,31,"_t"],[13,619,3,31],[13,630,3,31,"f"],[13,631,3,31],[13,636,3,31,"e"],[13,637,3,31],[13,639,3,31,"t"],[13,640,3,31],[14,2,5,0],[15,0,6,0],[16,0,7,0],[17,0,8,0],[18,0,9,0],[19,2,10,7],[19,6,10,13,"CHILD_STATE"],[19,17,10,24],[19,20,10,24,"exports"],[19,27,10,24],[19,28,10,24,"CHILD_STATE"],[19,39,10,24],[19,42,10,27,"Symbol"],[19,48,10,33],[19,49,10,34],[19,62,10,47],[19,63,10,48],[21,2,12,0],[22,0,13,0],[23,0,14,0],[24,0,15,0],[25,2,16,7],[25,11,16,16,"useRouteCache"],[25,24,16,29,"useRouteCache"],[25,25,16,30,"routes"],[25,31,16,36],[25,33,16,38],[26,4,17,2],[27,4,18,2],[27,8,18,8,"cache"],[27,13,18,13],[27,16,18,16,"React"],[27,21,18,21],[27,22,18,22,"useMemo"],[27,29,18,29],[27,30,18,30],[28,6,18,30],[28,13,18,37],[29,8,19,4,"current"],[29,15,19,11],[29,17,19,13],[29,21,19,17,"Map"],[29,24,19,20],[29,25,19,21],[30,6,20,2],[30,7,20,3],[31,4,20,3],[31,5,20,4],[31,7,20,6],[31,9,20,8],[31,10,20,9],[32,4,21,2,"cache"],[32,9,21,7],[32,10,21,8,"current"],[32,17,21,15],[32,20,21,18,"routes"],[32,26,21,24],[32,27,21,25,"reduce"],[32,33,21,31],[32,34,21,32],[32,44,21,33,"acc"],[32,47,21,36],[32,49,21,38,"route"],[32,54,21,43],[32,56,21,48],[33,6,22,4],[33,10,22,10,"previous"],[33,18,22,18],[33,21,22,21,"cache"],[33,26,22,26],[33,27,22,27,"current"],[33,34,22,34],[33,35,22,35,"get"],[33,38,22,38],[33,39,22,39,"route"],[33,44,22,44],[33,45,22,45,"key"],[33,48,22,48],[33,49,22,49],[34,6,23,4],[34,10,24,6,"state"],[34,15,24,11],[34,18,26,8,"route"],[34,23,26,13],[34,24,24,6,"state"],[34,29,24,11],[35,8,25,9,"routeWithoutState"],[35,25,25,26],[35,32,25,26,"_objectWithoutProperties2"],[35,57,25,26],[35,58,25,26,"default"],[35,65,25,26],[35,67,26,8,"route"],[35,72,26,13],[35,74,26,13,"_excluded"],[35,83,26,13],[36,6,27,4],[36,10,27,8,"proxy"],[36,15,27,13],[37,6,28,4],[37,10,28,8,"previous"],[37,18,28,16],[37,22,28,20],[37,26,28,20,"isRecordEqual"],[37,56,28,20],[37,57,28,20,"isRecordEqual"],[37,92,28,33],[37,94,28,34,"previous"],[37,102,28,42],[37,104,28,44,"routeWithoutState"],[37,121,28,61],[37,122,28,62],[37,124,28,64],[38,8,29,6],[39,8,30,6,"proxy"],[39,13,30,11],[39,16,30,14,"previous"],[39,24,30,22],[40,6,31,4],[40,7,31,5],[40,13,31,11],[41,8,32,6,"proxy"],[41,13,32,11],[41,16,32,14,"routeWithoutState"],[41,33,32,31],[42,6,33,4],[43,6,34,4],[43,10,34,8,"process"],[43,17,34,15],[43,18,34,16,"env"],[43,21,34,19],[43,22,34,20,"NODE_ENV"],[43,30,34,28],[43,35,34,33],[43,47,34,45],[43,49,34,47],[44,8,35,6],[45,8,36,6],[46,8,37,6],[46,13,37,11],[46,17,37,17,"key"],[46,20,37,20],[46,24,37,24,"proxy"],[46,29,37,29],[46,31,37,31],[47,10,38,8],[48,10,39,8],[48,14,39,14,"value"],[48,19,39,19],[48,22,39,22,"proxy"],[48,27,39,27],[48,28,39,28,"key"],[48,31,39,31],[48,32,39,32],[49,10,40,8,"Object"],[49,16,40,14],[49,17,40,15,"defineProperty"],[49,31,40,29],[49,32,40,30,"proxy"],[49,37,40,35],[49,39,40,37,"key"],[49,42,40,40],[49,44,40,42],[50,12,41,10,"enumerable"],[50,22,41,20],[50,24,41,22],[50,28,41,26],[51,12,42,10,"configurable"],[51,24,42,22],[51,26,42,24],[51,30,42,28],[52,12,43,10,"writable"],[52,20,43,18],[52,22,43,20],[52,27,43,25],[53,12,44,10,"value"],[53,17,44,15],[53,19,44,10,"value"],[54,10,45,8],[54,11,45,9],[54,12,45,10],[55,8,46,6],[56,6,47,4],[57,6,48,4,"Object"],[57,12,48,10],[57,13,48,11,"defineProperty"],[57,27,48,25],[57,28,48,26,"proxy"],[57,33,48,31],[57,35,48,33,"CHILD_STATE"],[57,46,48,44],[57,48,48,46],[58,8,49,6,"enumerable"],[58,18,49,16],[58,20,49,18],[58,25,49,23],[59,8,50,6,"configurable"],[59,20,50,18],[59,22,50,20],[59,26,50,24],[60,8,51,6,"value"],[60,13,51,11],[60,15,51,13,"state"],[61,6,52,4],[61,7,52,5],[61,8,52,6],[62,6,53,4,"acc"],[62,9,53,7],[62,10,53,8,"set"],[62,13,53,11],[62,14,53,12,"route"],[62,19,53,17],[62,20,53,18,"key"],[62,23,53,21],[62,25,53,23,"proxy"],[62,30,53,28],[62,31,53,29],[63,6,54,4],[63,13,54,11,"acc"],[63,16,54,14],[64,4,55,2],[64,5,55,3],[64,7,55,5],[64,11,55,9,"Map"],[64,14,55,12],[64,15,55,13],[64,16,55,14],[64,17,55,15],[65,4,56,2],[65,11,56,9,"Array"],[65,16,56,14],[65,17,56,15,"from"],[65,21,56,19],[65,22,56,20,"cache"],[65,27,56,25],[65,28,56,26,"current"],[65,35,56,33],[65,36,56,34,"values"],[65,42,56,40],[65,43,56,41],[65,44,56,42],[65,45,56,43],[66,2,57,0],[67,0,57,1],[67,3]],"functionMap":{"names":["<global>","useRouteCache","React.useMemo$argument_0","routes.reduce$argument_0"],"mappings":"AAA;OCe;8BCE;IDE;gCEC;GFkC;CDE"}},"type":"js/module"}]}